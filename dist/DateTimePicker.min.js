/* ----------------------------------------------------------------------------- 

  jQuery DateTimePicker - Responsive flat design jQuery DateTime Picker plugin for Web & Mobile
  Version 0.1.12
  Copyright (c)2015 Curious Solutions LLP and Neha Kadam
  http://curioussolutions.github.io/DateTimePicker
  https://github.com/CuriousSolutions/DateTimePicker

 ----------------------------------------------------------------------------- */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b,f){this.element=b,this.settings=a.extend({},d,f),this.dataObject=e,this._defaults=d,this._name=c,this.init()}var c="DateTimePicker",d={mode:"date",defaultDate:new Date,dateSeparator:"-",timeSeparator:":",timeMeridiemSeparator:" ",dateTimeSeparator:" ",dateTimeFormat:"dd-MM-yyyy HH:mm",dateFormat:"dd-MM-yyyy",timeFormat:"HH:mm",maxDate:null,minDate:null,maxTime:null,minTime:null,maxDateTime:null,minDateTime:null,shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],formatHumanDate:function(a){return a.dayShort+", "+a.month+" "+a.dd+", "+a.yyyy},minuteInterval:1,roundOffMinutes:!0,secondsInterval:1,roundOffSeconds:!0,titleContentDate:"Set Date",titleContentTime:"Set Time",titleContentDateTime:"Set Date & Time",buttonsToDisplay:["HeaderCloseButton","SetButton","ClearButton"],setButtonContent:"Set",clearButtonContent:"Clear",incrementButtonContent:"+",decrementButtonContent:"-",setValueInTextboxOnEveryClick:!1,animationDuration:400,isPopup:!0,parentElement:"body",addEventHandlers:null,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,buttonClicked:null},e={dCurrentDate:new Date,iCurrentDay:0,iCurrentMonth:0,iCurrentYear:0,iCurrentHour:0,iCurrentMinutes:0,iCurrentSeconds:0,sCurrentMeridiem:"",iMaxNumberOfDays:0,sDateFormat:"",sTimeFormat:"",sDateTimeFormat:"",dMinValue:null,dMaxValue:null,sArrInputDateFormats:[],sArrInputTimeFormats:[],sArrInputDateTimeFormats:[],bArrMatchFormat:[],bDateMode:!1,bTimeMode:!1,bDateTimeMode:!1,oInputElement:null,iTabIndex:0,bElemFocused:!1,bIs12Hour:!1};a.fn.DateTimePicker=function(d){return this.each(function(){a.removeData(this,"plugin_"+c),a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})},b.prototype={init:function(){var b=this;b._setDateFormatArray(),b._setTimeFormatArray(),b._setDateTimeFormatArray(),b.settings.isPopup&&(b._createPicker(),a(b.element).addClass("dtpicker-mobile")),b._addEventHandlersForInput()},_setDateFormatArray:function(){var a=this;a.dataObject.sArrInputDateFormats=[];var b="";b="dd"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"yyyy",a.dataObject.sArrInputDateFormats.push(b),b="MM"+a.settings.dateSeparator+"dd"+a.settings.dateSeparator+"yyyy",a.dataObject.sArrInputDateFormats.push(b),b="yyyy"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"dd",a.dataObject.sArrInputDateFormats.push(b),b="dd"+a.settings.dateSeparator+"MMM"+a.settings.dateSeparator+"yyyy",a.dataObject.sArrInputDateFormats.push(b)},_setTimeFormatArray:function(){var a=this;a.dataObject.sArrInputTimeFormats=[];var b="";b="hh"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss"+a.settings.timeMeridiemSeparator+"AA",a.dataObject.sArrInputTimeFormats.push(b),b="HH"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss",a.dataObject.sArrInputTimeFormats.push(b),b="hh"+a.settings.timeSeparator+"mm"+a.settings.timeMeridiemSeparator+"AA",a.dataObject.sArrInputTimeFormats.push(b),b="HH"+a.settings.timeSeparator+"mm",a.dataObject.sArrInputTimeFormats.push(b)},_setDateTimeFormatArray:function(){var a=this;a.dataObject.sArrInputDateTimeFormats=[];var b="",c="",d="";b="dd"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"yyyy",c="HH"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="MM"+a.settings.dateSeparator+"dd"+a.settings.dateSeparator+"yyyy",c="HH"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="MM"+a.settings.dateSeparator+"dd"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="yyyy"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"dd",c="HH"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="yyyy"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"dd",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MMM"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MMM"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeSeparator+"ss"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"yyyy",c="HH"+a.settings.timeSeparator+"mm",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="MM"+a.settings.dateSeparator+"dd"+a.settings.dateSeparator+"yyyy",c="HH"+a.settings.timeSeparator+"mm",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="MM"+a.settings.dateSeparator+"dd"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="yyyy"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"dd",c="HH"+a.settings.timeSeparator+"mm",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="yyyy"+a.settings.dateSeparator+"MM"+a.settings.dateSeparator+"dd",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MMM"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d),b="dd"+a.settings.dateSeparator+"MMM"+a.settings.dateSeparator+"yyyy",c="hh"+a.settings.timeSeparator+"mm"+a.settings.timeMeridiemSeparator+"AA",d=b+a.settings.dateTimeSeparator+c,a.dataObject.sArrInputDateTimeFormats.push(d)},_matchFormat:function(a,b){var c=this;c.dataObject.bArrMatchFormat=[],c.dataObject.bDateMode=!1,c.dataObject.bTimeMode=!1,c.dataObject.bDateTimeMode=!1;var d,e=[];for(a=c._isValid(a)?a:c.settings.mode,c._compare(a,"date")?(b=c._isValid(b)?b:c.dataObject.sDateFormat,c.dataObject.bDateMode=!0,e=c.dataObject.sArrInputDateFormats):c._compare(a,"time")?(b=c._isValid(b)?b:c.dataObject.sTimeFormat,c.dataObject.bTimeMode=!0,e=c.dataObject.sArrInputTimeFormats):c._compare(a,"datetime")&&(b=c._isValid(b)?b:c.dataObject.sDateTimeFormat,c.dataObject.bDateTimeMode=!0,e=c.dataObject.sArrInputDateTimeFormats),d=0;d<e.length;d++)c.dataObject.bArrMatchFormat.push(c._compare(b,e[d]))},_setMatchFormat:function(a,b,c){var d=this;a>0&&d._matchFormat(b,c)},_createPicker:function(){var b=this;a(b.element).addClass("dtpicker-overlay"),a(".dtpicker-overlay").click(function(a){b._hidePicker("")});var c="";c+="<div class='dtpicker-bg'>",c+="<div class='dtpicker-cont'>",c+="<div class='dtpicker-content'>",c+="<div class='dtpicker-subcontent'>",c+="</div>",c+="</div>",c+="</div>",c+="</div>",a(b.element).html(c)},_addEventHandlersForInput:function(){var b=this;b.dataObject.oInputElement=null,a(b.settings.parentElement).find("input[type='date'], input[type='time'], input[type='datetime']").each(function(){a(this).attr("type","text"),a(this).attr("data-field",a(this).attr("type"))});var c="[data-field='date'], [data-field='time'], [data-field='datetime']";a(b.settings.parentElement).off("focus",c,b._inputFieldFocus),a(b.settings.parentElement).on("focus",c,{obj:b},b._inputFieldFocus),a(b.settings.parentElement).off("click",c,b._inputFieldClick),a(b.settings.parentElement).on("click",c,{obj:b},b._inputFieldClick),b.settings.addEventHandlers&&b.settings.addEventHandlers.call(b)},_inputFieldFocus:function(a){var b=a.data.obj;b.showDateTimePicker(this),b.dataObject.bMouseDown=!1},_inputFieldClick:function(b){var c=b.data.obj;c._compare(a(this).prop("tagName"),"input")||c.showDateTimePicker(this),b.stopPropagation()},setDateTimeStringInInputField:function(b,c){var d=this;c=c||d.dataObject.dCurrentDate;var e;d._isValid(b)?(e=[],"string"==typeof b?e.push(b):"object"==typeof b&&(e=b)):e=d._isValid(d.settings.parentElement)?a(d.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']"):a("[data-field='date'], [data-field='time'], [data-field='datetime']"),e.each(function(){var b,e,f,g,h=this;b=a(h).data("field"),d._isValid(b)||(b=d.settings.mode),e=a(h).data("format"),d._isValid(e)||(d._compare(b,"date")?e=d.settings.dateFormat:d._compare(b,"time")?e=d.settings.timeFormat:d._compare(b,"datetime")&&(e=d.settings.dateTimeFormat)),f=d.getIs12Hour(b,e),g=d._setOutput(b,e,f,c),a(h).val(g)})},getDateTimeStringInFormat:function(a,b,c){var d=this;return d._setOutput(a,b,d.getIs12Hour(a,b),c)},showDateTimePicker:function(a){var b=this;null!==b.dataObject.oInputElement&&b.dataObject.oInputElement!==a?b._hidePicker(0,a):b._showPicker(a)},_setButtonAction:function(a){var b=this;null!==b.dataObject.oInputElement&&(b._setValueOfElement(b._setOutput()),b._hidePicker(a?0:""))},_setOutput:function(a,b,c,d){var e=this;d=e._isValid(d)?d:e.dataObject.dCurrentDate,c=c||e.dataObject.bIs12Hour;var f,g,h,i,j,k,l="",m=d.getDate(),n=d.getMonth(),o=d.getFullYear(),p=d.getHours(),q=d.getMinutes(),r=d.getSeconds(),s="",t="",u=Function.length;return e._setMatchFormat(u,a,b),e.dataObject.bDateMode?e.dataObject.bArrMatchFormat[0]?(n++,f=10>m?"0"+m:m,g=10>n?"0"+n:n,l=f+e.settings.dateSeparator+g+e.settings.dateSeparator+o):e.dataObject.bArrMatchFormat[1]?(n++,f=10>m?"0"+m:m,g=10>n?"0"+n:n,l=g+e.settings.dateSeparator+f+e.settings.dateSeparator+o):e.dataObject.bArrMatchFormat[2]?(n++,f=10>m?"0"+m:m,g=10>n?"0"+n:n,l=o+e.settings.dateSeparator+g+e.settings.dateSeparator+f):e.dataObject.bArrMatchFormat[3]&&(f=10>m?"0"+m:m,g=e.settings.shortMonthNames[n],l=f+e.settings.dateSeparator+g+e.settings.dateSeparator+o):e.dataObject.bTimeMode?((e.dataObject.bArrMatchFormat[0]||e.dataObject.bArrMatchFormat[2])&&(h=e._determineMeridiemFromHourAndMinutes(p,q),0===p&&"AM"===h?p=12:p>12&&"PM"===h&&(p-=12)),i=10>p?"0"+p:p,j=10>q?"0"+q:q,e.dataObject.bArrMatchFormat[0]?(k=10>r?"0"+r:r,l=i+e.settings.timeSeparator+j+e.settings.timeSeparator+k+e.settings.timeMeridiemSeparator+h):e.dataObject.bArrMatchFormat[1]?(k=10>r?"0"+r:r,l=i+e.settings.timeSeparator+j+e.settings.timeSeparator+k):e.dataObject.bArrMatchFormat[2]?l=i+e.settings.timeSeparator+j+e.settings.timeMeridiemSeparator+h:e.dataObject.bArrMatchFormat[3]&&(l=i+e.settings.timeSeparator+j)):e.dataObject.bDateTimeMode&&(e.dataObject.bArrMatchFormat[0]||e.dataObject.bArrMatchFormat[1]||e.dataObject.bArrMatchFormat[8]||e.dataObject.bArrMatchFormat[9]?(n++,f=10>m?"0"+m:m,g=10>n?"0"+n:n,s=f+e.settings.dateSeparator+g+e.settings.dateSeparator+o):e.dataObject.bArrMatchFormat[2]||e.dataObject.bArrMatchFormat[3]||e.dataObject.bArrMatchFormat[10]||e.dataObject.bArrMatchFormat[11]?(n++,f=10>m?"0"+m:m,g=10>n?"0"+n:n,s=g+e.settings.dateSeparator+f+e.settings.dateSeparator+o):e.dataObject.bArrMatchFormat[4]||e.dataObject.bArrMatchFormat[5]||e.dataObject.bArrMatchFormat[12]||e.dataObject.bArrMatchFormat[13]?(n++,f=10>m?"0"+m:m,g=10>n?"0"+n:n,s=o+e.settings.dateSeparator+g+e.settings.dateSeparator+f):(e.dataObject.bArrMatchFormat[6]||e.dataObject.bArrMatchFormat[7]||e.dataObject.bArrMatchFormat[14]||e.dataObject.bArrMatchFormat[15])&&(f=10>m?"0"+m:m,g=e.settings.shortMonthNames[n],s=f+e.settings.dateSeparator+g+e.settings.dateSeparator+o),bAddSeconds=e.dataObject.bArrMatchFormat[0]||e.dataObject.bArrMatchFormat[1]||e.dataObject.bArrMatchFormat[2]||e.dataObject.bArrMatchFormat[3]||e.dataObject.bArrMatchFormat[4]||e.dataObject.bArrMatchFormat[5]||e.dataObject.bArrMatchFormat[6]||e.dataObject.bArrMatchFormat[7],c?(h=e._determineMeridiemFromHourAndMinutes(p,q),0===p&&"AM"===h?p=12:p>12&&"PM"===h&&(p-=12),i=10>p?"0"+p:p,j=10>q?"0"+q:q,bAddSeconds?(k=10>r?"0"+r:r,t=i+e.settings.timeSeparator+j+e.settings.timeSeparator+k+e.settings.timeMeridiemSeparator+h):t=i+e.settings.timeSeparator+j+e.settings.timeMeridiemSeparator+h):(i=10>p?"0"+p:p,j=10>q?"0"+q:q,bAddSeconds?(k=10>r?"0"+r:r,t=i+e.settings.timeSeparator+j+e.settings.timeSeparator+k):t=i+e.settings.timeSeparator+j),l=s+e.settings.dateTimeSeparator+t),e._setMatchFormat(u),l},_clearButtonAction:function(){var a=this;null!==a.dataObject.oInputElement&&a._setValueOfElement(""),a._hidePicker("")},_setOutputOnIncrementOrDecrement:function(){var a=this;a._isValid(a.dataObject.oInputElement)&&a.settings.setValueInTextboxOnEveryClick&&a._setValueOfElement(a._setOutput())},_showPicker:function(b){var c=this;if(null===c.dataObject.oInputElement){c.dataObject.oInputElement=b,c.dataObject.iTabIndex=parseInt(a(b).attr("tabIndex"));var d=a(b).data("field")||"",e=a(b).data("min")||"",f=a(b).data("max")||"",g=a(b).data("format")||"",h=a(b).data("view")||"",i=a(b).data("startend")||"",j=a(b).data("startendelem")||"",k=c._getValueOfElement(b)||"";if(""!==h&&c.setIsPopup(c._compare(h,"Popup")?!0:!1),!c.settings.isPopup){c._createPicker();var l=a(c.dataObject.oInputElement).offset().top+a(c.dataObject.oInputElement).outerHeight(),m=a(c.dataObject.oInputElement).offset().left,n=a(c.dataObject.oInputElement).outerWidth();a(c.element).css({position:"absolute",top:l,left:m,width:n,height:"auto"})}c.settings.beforeShow&&c.settings.beforeShow.call(c,b),d=c._isValid(d)?d:c.settings.mode,c.settings.mode=d,c._isValid(g)||(c._compare(d,"date")?g=c.settings.dateFormat:c._compare(d,"time")?g=c.settings.timeFormat:c._compare(d,"datetime")&&(g=c.settings.dateTimeFormat)),c._matchFormat(d,g),c.dataObject.dMinValue=null,c.dataObject.dMaxValue=null,c.dataObject.bIs12Hour=!1;var o,p,q,r,s,t,u,v;c.dataObject.bDateMode?(o=e||c.settings.minDate,p=f||c.settings.maxDate,c.dataObject.sDateFormat=g,c._isValid(o)&&(c.dataObject.dMinValue=c._parseDate(o)),c._isValid(p)&&(c.dataObject.dMaxValue=c._parseDate(p)),""!==i&&(c._compare(i,"start")||c._compare(i,"end"))&&""!==j&&a(j).length>=1&&(q=c._getValueOfElement(a(j)),""!==q&&(r=c._parseDate(q),c._compare(i,"start")?c._isValid(p)?c._compareDates(r,c.dataObject.dMaxValue)<0&&(c.dataObject.dMaxValue=new Date(r)):c.dataObject.dMaxValue=new Date(r):c._compare(i,"end")&&(c._isValid(o)?c._compareDates(r,c.dataObject.dMinValue)>0&&(c.dataObject.dMinValue=new Date(r)):c.dataObject.dMinValue=new Date(r)))),c.dataObject.dCurrentDate=c._parseDate(k),c.dataObject.dCurrentDate.setHours(0),c.dataObject.dCurrentDate.setMinutes(0),c.dataObject.dCurrentDate.setSeconds(0)):c.dataObject.bTimeMode?(o=e||c.settings.minTime,p=f||c.settings.maxTime,c.dataObject.sTimeFormat=g,c._isValid(o)&&(c.dataObject.dMinValue=c._parseTime(o)),c._isValid(p)&&(c.dataObject.dMaxValue=c._parseTime(p)),""!==i&&(c._compare(i,"start")||c._compare(i,"end"))&&""!==j&&a(j).length>=1&&(s=c._getValueOfElement(a(j)),""!==s&&(t=c._parseTime(s),c._compare(i,"start")?(t.setMinutes(t.getMinutes()-1),c._isValid(p)?2===c._compareTime(t,c.dataObject.dMaxValue)&&(c.dataObject.dMaxValue=new Date(t)):c.dataObject.dMaxValue=new Date(t)):c._compare(i,"end")&&(t.setMinutes(t.getMinutes()+1),c._isValid(o)?3===c._compareTime(t,c.dataObject.dMinValue)&&(c.dataObject.dMinValue=new Date(t)):c.dataObject.dMinValue=new Date(t)))),c.dataObject.bIs12Hour=c.getIs12Hour(),c.dataObject.dCurrentDate=c._parseTime(k)):c.dataObject.bDateTimeMode&&(o=e||c.settings.minDateTime,p=f||c.settings.maxDateTime,c.dataObject.sDateTimeFormat=g,c._isValid(o)&&(c.dataObject.dMinValue=c._parseDateTime(o)),c._isValid(p)&&(c.dataObject.dMaxValue=c._parseDateTime(p)),""!==i&&(c._compare(i,"start")||c._compare(i,"end"))&&""!==j&&a(j).length>=1&&(u=c._getValueOfElement(a(j)),""!==u&&(v=c._parseDateTime(u),c._compare(i,"start")?c._isValid(p)?c._compareDateTime(v,c.dataObject.dMaxValue)<0&&(c.dataObject.dMaxValue=new Date(v)):c.dataObject.dMaxValue=new Date(v):c._compare(i,"end")&&(c._isValid(o)?c._compareDateTime(v,c.dataObject.dMinValue)>0&&(c.dataObject.dMinValue=new Date(v)):c.dataObject.dMinValue=new Date(v)))),c.dataObject.bIs12Hour=c.getIs12Hour(),c.dataObject.dCurrentDate=c._parseDateTime(k)),c._setVariablesForDate(),c._modifyPicker(),a(c.element).fadeIn(c.settings.animationDuration),c.settings.afterShow&&setTimeout(function(){c.settings.afterShow.call(c,b)},c.settings.animationDuration)}},_hidePicker:function(b,c){var d=this,e=d.dataObject.oInputElement;d.settings.beforeHide&&d.settings.beforeHide.call(d,e),d._isValid(b)||(b=d.settings.animationDuration),d._isValid(d.dataObject.oInputElement)&&(a(d.dataObject.oInputElement).blur(),d.dataObject.oInputElement=null),a(d.element).fadeOut(b),0===b?a(d.element).find(".dtpicker-subcontent").html(""):setTimeout(function(){a(d.element).find(".dtpicker-subcontent").html("")},b),a(document).unbind("click.DateTimePicker"),a(document).unbind("keydown.DateTimePicker"),a(document).unbind("keyup.DateTimePicker"),d.settings.afterHide&&(0===b?d.settings.afterHide.call(d,e):setTimeout(function(){d.settings.afterHide.call(d,e)},b)),d._isValid(c)&&d._showPicker(c)},_modifyPicker:function(){var b,c,d=this,e=[];d.dataObject.bDateMode?(b=d.settings.titleContentDate,c=3,d.dataObject.bArrMatchFormat[0]?e=["day","month","year"]:d.dataObject.bArrMatchFormat[1]?e=["month","day","year"]:d.dataObject.bArrMatchFormat[2]?e=["year","month","day"]:d.dataObject.bArrMatchFormat[3]&&(e=["day","month","year"])):d.dataObject.bTimeMode?(b=d.settings.titleContentTime,d.dataObject.bArrMatchFormat[0]?(c=4,e=["hour","minutes","seconds","meridiem"]):d.dataObject.bArrMatchFormat[1]?(c=3,e=["hour","minutes","seconds"]):d.dataObject.bArrMatchFormat[2]?(c=3,e=["hour","minutes","meridiem"]):d.dataObject.bArrMatchFormat[3]&&(c=2,e=["hour","minutes"])):d.dataObject.bDateTimeMode&&(b=d.settings.titleContentDateTime,d.dataObject.bArrMatchFormat[0]?(c=6,e=["day","month","year","hour","minutes","seconds"]):d.dataObject.bArrMatchFormat[1]?(c=7,e=["day","month","year","hour","minutes","seconds","meridiem"]):d.dataObject.bArrMatchFormat[2]?(c=6,e=["month","day","year","hour","minutes","seconds"]):d.dataObject.bArrMatchFormat[3]?(c=7,e=["month","day","year","hour","minutes","seconds","meridiem"]):d.dataObject.bArrMatchFormat[4]?(c=6,e=["year","month","day","hour","minutes","seconds"]):d.dataObject.bArrMatchFormat[5]?(c=7,e=["year","month","day","hour","minutes","seconds","meridiem"]):d.dataObject.bArrMatchFormat[6]?(c=6,e=["day","month","year","hour","minutes","seconds"]):d.dataObject.bArrMatchFormat[7]?(c=7,e=["day","month","year","hour","minutes","seconds","meridiem"]):d.dataObject.bArrMatchFormat[8]?(c=5,e=["day","month","year","hour","minutes"]):d.dataObject.bArrMatchFormat[9]?(c=6,e=["day","month","year","hour","minutes","meridiem"]):d.dataObject.bArrMatchFormat[10]?(c=5,e=["month","day","year","hour","minutes"]):d.dataObject.bArrMatchFormat[11]?(c=6,e=["month","day","year","hour","minutes","meridiem"]):d.dataObject.bArrMatchFormat[12]?(c=5,e=["year","month","day","hour","minutes"]):d.dataObject.bArrMatchFormat[13]?(c=6,e=["year","month","day","hour","minutes","meridiem"]):d.dataObject.bArrMatchFormat[14]?(c=5,e=["day","month","year","hour","minutes"]):d.dataObject.bArrMatchFormat[15]&&(c=6,e=["day","month","year","hour","minutes","meridiem"]));var f,g="dtpicker-comp"+c,h=!1,i=!1,j=!1;for(f=0;f<d.settings.buttonsToDisplay.length;f++)d._compare(d.settings.buttonsToDisplay[f],"HeaderCloseButton")?h=!0:d._compare(d.settings.buttonsToDisplay[f],"SetButton")?i=!0:d._compare(d.settings.buttonsToDisplay[f],"ClearButton")&&(j=!0);var k="";k+="<div class='dtpicker-header'>",k+="<div class='dtpicker-title'>"+b+"</div>",h&&(k+="<a class='dtpicker-close'>&times;</a>"),k+="<div class='dtpicker-value'></div>",k+="</div>";var l="";for(l+="<div class='dtpicker-components'>",f=0;c>f;f++){var m=e[f];l+="<div class='dtpicker-compOutline "+g+"'>",l+="<div class='dtpicker-comp "+m+"'>",l+="<a class='dtpicker-compButton increment'>"+d.settings.incrementButtonContent+"</a>",l+="<input type='text' class='dtpicker-compValue'></input>",l+="<a class='dtpicker-compButton decrement'>"+d.settings.decrementButtonContent+"</a>",l+="</div>",l+="</div>"}l+="</div>";var n="";n=i&&j?" dtpicker-twoButtons":" dtpicker-singleButton";var o="";o+="<div class='dtpicker-buttonCont"+n+"'>",i&&(o+="<a class='dtpicker-button dtpicker-buttonSet'>"+d.settings.setButtonContent+"</a>"),j&&(o+="<a class='dtpicker-button dtpicker-buttonClear'>"+d.settings.clearButtonContent+"</a>"),o+="</div>";var p=k+l+o;a(d.element).find(".dtpicker-subcontent").html(p),d._setCurrentDate(),d._addEventHandlersForPicker()},_addEventHandlersForPicker:function(){var b=this;a(document).on("click.DateTimePicker",function(a){b._hidePicker("")}),a(document).on("keydown.DateTimePicker",function(c){return a(".dtpicker-compValue").is(":focus")||"9"!==(c.keyCode?c.keyCode:c.which)?void 0:(b._setButtonAction(!0),a("[tabIndex="+(b.dataObject.iTabIndex+1)+"]").focus(),!1)}),a(document).on("keydown.DateTimePicker",function(c){a(".dtpicker-compValue").is(":focus")||"9"===(c.keyCode?c.keyCode:c.which)||b._hidePicker("")}),a(".dtpicker-cont *").click(function(a){a.stopPropagation()}),a(".dtpicker-compValue").not(".month .dtpicker-compValue, .meridiem .dtpicker-compValue").keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"")}),a(".dtpicker-compValue").focus(function(){b.dataObject.bElemFocused=!0}),a(".dtpicker-compValue").blur(function(){b._getValuesFromInputBoxes(),b._setCurrentDate(),b.dataObject.bElemFocused=!1;var c=a(this).parent().parent();setTimeout(function(){c.is(":last-child")&&!b.dataObject.bElemFocused&&b._setButtonAction(!1)},50)}),a(".dtpicker-compValue").keyup(function(){var b,c=a(this),d=c.val(),e=d.length;c.parent().hasClass("day")||c.parent().hasClass("hour")||c.parent().hasClass("minutes")||c.parent().hasClass("meridiem")?e>2&&(b=d.slice(0,2),c.val(b)):c.parent().hasClass("month")?e>3&&(b=d.slice(0,3),c.val(b)):c.parent().hasClass("year")&&e>4&&(b=d.slice(0,4),c.val(b))}),a(b.element).find(".dtpicker-close").click(function(a){b.settings.buttonClicked&&b.settings.buttonClicked.call(b,"CLOSE",b.dataObject.oInputElement),b._hidePicker("")}),a(b.element).find(".dtpicker-buttonSet").click(function(a){b.settings.buttonClicked&&b.settings.buttonClicked.call(b,"SET",b.dataObject.oInputElement),b._setButtonAction(!1)}),a(b.element).find(".dtpicker-buttonClear").click(function(a){b.settings.buttonClicked&&b.settings.buttonClicked.call(b,"CLEAR",b.dataObject.oInputElement),b._clearButtonAction()}),a(b.element).find(".day .increment, .day .increment *").click(function(a){b.dataObject.iCurrentDay++,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".day .decrement, .day .decrement *").click(function(a){b.dataObject.iCurrentDay--,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".month .increment, .month .increment *").click(function(a){b.dataObject.iCurrentMonth++,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".month .decrement, .month .decrement *").click(function(a){b.dataObject.iCurrentMonth--,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".year .increment, .year .increment *").click(function(a){b.dataObject.iCurrentYear++,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".year .decrement, .year .decrement *").click(function(a){b.dataObject.iCurrentYear--,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".hour .increment, .hour .increment *").click(function(a){b.dataObject.iCurrentHour++,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".hour .decrement, .hour .decrement *").click(function(a){b.dataObject.iCurrentHour--,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".minutes .increment, .minutes .increment *").click(function(a){b.dataObject.iCurrentMinutes+=b.settings.minuteInterval,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".minutes .decrement, .minutes .decrement *").click(function(a){b.dataObject.iCurrentMinutes-=b.settings.minuteInterval,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".seconds .increment, .seconds .increment *").click(function(a){b.dataObject.iCurrentSeconds+=b.settings.secondsInterval,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".seconds .decrement, .seconds .decrement *").click(function(a){b.dataObject.iCurrentSeconds-=b.settings.secondsInterval,b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()}),a(b.element).find(".meridiem .dtpicker-compButton").click(function(a){b._compare(b.dataObject.sCurrentMeridiem,"AM")?(b.dataObject.sCurrentMeridiem="PM",b.dataObject.iCurrentHour+=12):b._compare(b.dataObject.sCurrentMeridiem,"PM")&&(b.dataObject.sCurrentMeridiem="AM",b.dataObject.iCurrentHour-=12),b._setCurrentDate(),b._setOutputOnIncrementOrDecrement()})},_adjustMinutes:function(a){var b=this;return b.settings.roundOffMinutes&&1!==b.settings.minuteInterval&&(a=a%b.settings.minuteInterval?a-a%b.settings.minuteInterval+b.settings.minuteInterval:a),a},_adjustSeconds:function(a){var b=this;return b.settings.roundOffSeconds&&1!==b.settings.secondsInterval&&(a=a%b.settings.secondsInterval?a-a%b.settings.secondsInterval+b.settings.secondsInterval:a),a},_getValueOfElement:function(b){var c=this,d="";return d=c._compare(a(b).prop("tagName"),"INPUT")?a(b).val():a(b).html()},_setValueOfElement:function(b){var c=this,d=a(c.dataObject.oInputElement);return c._compare(d.prop("tagName"),"INPUT")?d.val(b):d.html(b),d.change(),b},_parseDate:function(a){var b=this,c=new Date(b.settings.defaultDate),d=c.getDate(),e=c.getMonth(),f=c.getFullYear();if(b._isValid(a)){var g=a.split(b.settings.dateSeparator);b.dataObject.bArrMatchFormat[0]?(d=parseInt(g[0]),e=parseInt(g[1]-1),f=parseInt(g[2])):b.dataObject.bArrMatchFormat[1]?(e=parseInt(g[0]-1),d=parseInt(g[1]),f=parseInt(g[2])):b.dataObject.bArrMatchFormat[2]?(f=parseInt(g[0]),e=parseInt(g[1]-1),d=parseInt(g[2])):b.dataObject.bArrMatchFormat[3]&&(d=parseInt(g[0]),e=b._getShortMonthIndex(g[1]),f=parseInt(g[2]))}return c=new Date(f,e,d,0,0,0,0)},_parseTime:function(a){var b,c,d,e=this,f=new Date(e.settings.defaultDate),g=f.getDate(),h=f.getMonth(),i=f.getFullYear(),j=f.getHours(),k=f.getMinutes(),l=f.getSeconds(),m=e.dataObject.bArrMatchFormat[0]||e.dataObject.bArrMatchFormat[1];return l=m?e._adjustSeconds(l):0,e._isValid(a)&&(e.dataObject.bIs12Hour&&(b=a.split(e.settings.timeMeridiemSeparator),a=b[0],c=b[1],e._compare(c,"AM")||e._compare(c,"PM")||(c="")),d=a.split(e.settings.timeSeparator),j=parseInt(d[0]),k=parseInt(d[1]),m&&(l=parseInt(d[2]),l=e._adjustSeconds(l)),12===j&&e._compare(c,"AM")?j=0:12>j&&e._compare(c,"PM")&&(j+=12)),k=e._adjustMinutes(k),f=new Date(i,h,g,j,k,l,0)},_parseDateTime:function(a){var b,c,d,e,f,g=this,h=new Date(g.settings.defaultDate),i=h.getDate(),j=h.getMonth(),k=h.getFullYear(),l=h.getHours(),m=h.getMinutes(),n=0,o="",p=g.dataObject.bArrMatchFormat[0]||g.dataObject.bArrMatchFormat[1]||g.dataObject.bArrMatchFormat[2]||g.dataObject.bArrMatchFormat[3]||g.dataObject.bArrMatchFormat[4]||g.dataObject.bArrMatchFormat[5]||g.dataObject.bArrMatchFormat[6]||g.dataObject.bArrMatchFormat[7];return n=p?g._adjustSeconds(n):0,g._isValid(a)&&(b=a.split(g.settings.dateTimeSeparator),c=b[0].split(g.settings.dateSeparator),g.dataObject.bArrMatchFormat[0]||g.dataObject.bArrMatchFormat[1]?(i=parseInt(c[0]),j=parseInt(c[1]-1),k=parseInt(c[2])):g.dataObject.bArrMatchFormat[2]||g.dataObject.bArrMatchFormat[3]?(j=parseInt(c[0]-1),i=parseInt(c[1]),k=parseInt(c[2])):g.dataObject.bArrMatchFormat[4]||g.dataObject.bArrMatchFormat[5]?(k=parseInt(c[0]),j=parseInt(c[1]-1),i=parseInt(c[2])):(g.dataObject.bArrMatchFormat[6]||g.dataObject.bArrMatchFormat[7])&&(i=parseInt(c[0]),j=g._getShortMonthIndex(c[1]),k=parseInt(c[2])),d=b[1],g.dataObject.bIs12Hour&&(g._compare(g.settings.dateTimeSeparator,g.settings.timeMeridiemSeparator)&&3===b.length?o=b[2]:(e=d.split(g.settings.timeMeridiemSeparator),d=e[0],o=e[1]),g._compare(o,"AM")||g._compare(o,"PM")||(o="")),f=d.split(g.settings.timeSeparator),l=parseInt(f[0]),m=parseInt(f[1]),p&&(n=parseInt(f[2])),12===l&&g._compare(o,"AM")?l=0:12>l&&g._compare(o,"PM")&&(l+=12)),m=g._adjustMinutes(m),h=new Date(k,j,i,l,m,n,0)},_getShortMonthIndex:function(a){for(var b=this,c=0;c<b.settings.shortMonthNames.length;c++)if(b._compare(a,b.settings.shortMonthNames[c]))return c},getIs12Hour:function(a,b){var c=this,d=!1,e=Function.length;return c._setMatchFormat(e,a,b),c.dataObject.bTimeMode?d=c.dataObject.bArrMatchFormat[0]||c.dataObject.bArrMatchFormat[2]:c.dataObject.bDateTimeMode&&(d=c.dataObject.bArrMatchFormat[1]||c.dataObject.bArrMatchFormat[3]||c.dataObject.bArrMatchFormat[5]||c.dataObject.bArrMatchFormat[7]||c.dataObject.bArrMatchFormat[9]||c.dataObject.bArrMatchFormat[11]||c.dataObject.bArrMatchFormat[13]||c.dataObject.bArrMatchFormat[15]),c._setMatchFormat(e),d},_setVariablesForDate:function(){var a=this;a.dataObject.iCurrentDay=a.dataObject.dCurrentDate.getDate(),a.dataObject.iCurrentMonth=a.dataObject.dCurrentDate.getMonth(),a.dataObject.iCurrentYear=a.dataObject.dCurrentDate.getFullYear(),(a.dataObject.bTimeMode||a.dataObject.bDateTimeMode)&&(a.dataObject.iCurrentHour=a.dataObject.dCurrentDate.getHours(),a.dataObject.iCurrentMinutes=a.dataObject.dCurrentDate.getMinutes(),a.dataObject.iCurrentSeconds=a.dataObject.dCurrentDate.getSeconds(),a.dataObject.bIs12Hour&&(a.dataObject.sCurrentMeridiem=a._determineMeridiemFromHourAndMinutes(a.dataObject.iCurrentHour,a.dataObject.iCurrentMinutes)))},_getValuesFromInputBoxes:function(){var b=this;if(b.dataObject.bDateMode||b.dataObject.bDateTimeMode){var c,d;c=a(b.element).find(".month .dtpicker-compValue").val(),c.length>1&&(c=c.charAt(0).toUpperCase()+c.slice(1)),d=b.settings.shortMonthNames.indexOf(c),-1!==d?b.dataObject.iCurrentMonth=parseInt(d):c.match("^[+|-]?[0-9]+$")&&(b.dataObject.iCurrentMonth=parseInt(c-1)),b.dataObject.iCurrentDay=parseInt(a(b.element).find(".day .dtpicker-compValue").val())||b.dataObject.iCurrentDay,b.dataObject.iCurrentYear=parseInt(a(b.element).find(".year .dtpicker-compValue").val())||b.dataObject.iCurrentYear}if(b.dataObject.bTimeMode||b.dataObject.bDateTimeMode){var e,f,g,h;e=parseInt(a(b.element).find(".hour .dtpicker-compValue").val()),f=b._adjustMinutes(parseInt(a(b.element).find(".minutes .dtpicker-compValue").val())),g=b._adjustMinutes(parseInt(a(b.element).find(".seconds .dtpicker-compValue").val())),b.dataObject.iCurrentHour=isNaN(e)?b.dataObject.iCurrentHour:e,b.dataObject.iCurrentMinutes=isNaN(f)?b.dataObject.iCurrentMinutes:f,b.dataObject.iCurrentSeconds=isNaN(g)?b.dataObject.iCurrentSeconds:g,b.dataObject.iCurrentSeconds>59&&(b.dataObject.iCurrentMinutes+=b.dataObject.iCurrentSeconds/60,b.dataObject.iCurrentSeconds=b.dataObject.iCurrentSeconds%60),
b.dataObject.iCurrentMinutes>59&&(b.dataObject.iCurrentHour+=b.dataObject.iCurrentMinutes/60,b.dataObject.iCurrentMinutes=b.dataObject.iCurrentMinutes%60),b.dataObject.bIs12Hour?b.dataObject.iCurrentHour>12&&(b.dataObject.iCurrentHour=b.dataObject.iCurrentHour%12):b.dataObject.iCurrentHour>23&&(b.dataObject.iCurrentHour=b.dataObject.iCurrentHour%23),b.dataObject.bIs12Hour&&(h=a(b.element).find(".meridiem .dtpicker-compValue").val(),(b._compare(h,"AM")||b._compare(h,"PM"))&&(b.dataObject.sCurrentMeridiem=h),b._compare(b.dataObject.sCurrentMeridiem,"PM")&&12!==b.dataObject.iCurrentHour&&b.dataObject.iCurrentHour<13&&(b.dataObject.iCurrentHour+=12),b._compare(b.dataObject.sCurrentMeridiem,"AM")&&12===b.dataObject.iCurrentHour&&(b.dataObject.iCurrentHour=0))}},_setCurrentDate:function(){var b=this;(b.dataObject.bTimeMode||b.dataObject.bDateTimeMode)&&(b.dataObject.iCurrentSeconds>59?(b.dataObject.iCurrentMinutes+=b.dataObject.iCurrentSeconds/60,b.dataObject.iCurrentSeconds=b.dataObject.iCurrentSeconds%60):b.dataObject.iCurrentSeconds<0&&(b.dataObject.iCurrentMinutes-=b.settings.minuteInterval,b.dataObject.iCurrentSeconds+=60),b.dataObject.iCurrentMinutes=b._adjustMinutes(b.dataObject.iCurrentMinutes),b.dataObject.iCurrentSeconds=b._adjustSeconds(b.dataObject.iCurrentSeconds));var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),s=!1,t=!1;if(null!==b.dataObject.dMaxValue&&(s=r.getTime()>b.dataObject.dMaxValue.getTime()),null!==b.dataObject.dMinValue&&(t=r.getTime()<b.dataObject.dMinValue.getTime()),s||t){var u=!1,v=!1;null!==b.dataObject.dMaxValue&&(u=b.dataObject.dCurrentDate.getTime()>b.dataObject.dMaxValue.getTime()),null!==b.dataObject.dMinValue&&(v=b.dataObject.dCurrentDate.getTime()<b.dataObject.dMinValue.getTime()),u||v?(u&&(r=new Date(b.dataObject.dMaxValue)),v&&(r=new Date(b.dataObject.dMinValue))):r=new Date(b.dataObject.dCurrentDate)}b.dataObject.dCurrentDate=new Date(r),b._setVariablesForDate(),b.dataObject.bDateMode?(c=b.dataObject.iCurrentDay,c=10>c?"0"+c:c,g=b.dataObject.iCurrentMonth,h=b.dataObject.iCurrentMonth,h=10>h?"0"+h:h,i=b.settings.shortMonthNames[g],j=b.settings.fullMonthNames[g],k=b.dataObject.iCurrentYear,d=b.dataObject.dCurrentDate.getDay(),e=b.settings.shortDayNames[d],f=b.settings.fullDayNames[d],a(b.element).find(".day .dtpicker-compValue").val(c),a(b.element).find(".month .dtpicker-compValue").val(i),a(b.element).find(".year .dtpicker-compValue").val(k),q=b.settings.formatHumanDate({dd:c,MM:h,yyyy:k,day:f,dayShort:e,month:j,monthShort:i}),a(b.element).find(".dtpicker-value").html(q)):b.dataObject.bTimeMode?(l=b.dataObject.iCurrentHour,b.dataObject.bIs12Hour&&(l>12&&(l-=12),a(b.element).find(".meridiem .dtpicker-compValue").val(b.dataObject.sCurrentMeridiem)),l=10>l?"0"+l:l,b.dataObject.bIs12Hour&&"00"===l&&(l=12),m=b.dataObject.iCurrentMinutes,m=10>m?"0"+m:m,n=b.dataObject.iCurrentSeconds,n=10>n?"0"+n:n,a(b.element).find(".hour .dtpicker-compValue").val(l),a(b.element).find(".minutes .dtpicker-compValue").val(m),a(b.element).find(".seconds .dtpicker-compValue").val(n),o=b.dataObject.bArrMatchFormat[0]||b.dataObject.bArrMatchFormat[1]?l+b.settings.timeSeparator+m+b.settings.timeSeparator+n:l+b.settings.timeSeparator+m,b.dataObject.bIs12Hour&&(o+=b.settings.timeMeridiemSeparator+b.dataObject.sCurrentMeridiem),a(b.element).find(".dtpicker-value").html(o)):b.dataObject.bDateTimeMode&&(c=b.dataObject.iCurrentDay,c=10>c?"0"+c:c,g=b.dataObject.iCurrentMonth,h=10>g?"0"+g:g,i=b.settings.shortMonthNames[g],j=b.settings.fullMonthNames[g],k=b.dataObject.iCurrentYear,d=b.dataObject.dCurrentDate.getDay(),e=b.settings.shortDayNames[d],f=b.settings.fullDayNames[d],a(b.element).find(".day .dtpicker-compValue").val(c),a(b.element).find(".month .dtpicker-compValue").val(i),a(b.element).find(".year .dtpicker-compValue").val(k),q=b.settings.formatHumanDate({dd:c,MM:h,yyyy:k,day:f,dayShort:e,month:j,monthShort:i}),l=b.dataObject.iCurrentHour,b.dataObject.bIs12Hour&&(l>12&&(l-=12),a(b.element).find(".meridiem .dtpicker-compValue").val(b.dataObject.sCurrentMeridiem)),l=10>l?"0"+l:l,b.dataObject.bIs12Hour&&"00"===l&&(l=12),m=b.dataObject.iCurrentMinutes,m=10>m?"0"+m:m,n=b.dataObject.iCurrentSeconds,n=10>n?"0"+n:n,a(b.element).find(".hour .dtpicker-compValue").val(l),a(b.element).find(".minutes .dtpicker-compValue").val(m),a(b.element).find(".seconds .dtpicker-compValue").val(n),o=b.dataObject.bArrMatchFormat[0]||b.dataObject.bArrMatchFormat[1]||b.dataObject.bArrMatchFormat[2]||b.dataObject.bArrMatchFormat[3]||b.dataObject.bArrMatchFormat[4]||b.dataObject.bArrMatchFormat[5]||b.dataObject.bArrMatchFormat[6]||b.dataObject.bArrMatchFormat[7]?l+b.settings.timeSeparator+m+b.settings.timeSeparator+n:l+b.settings.timeSeparator+m,b.dataObject.bIs12Hour&&(o+=b.settings.timeMeridiemSeparator+b.dataObject.sCurrentMeridiem),p=q+b.settings.dateTimeSeparator+o,a(b.element).find(".dtpicker-value").html(p)),b._setButtons()},_setButtons:function(){var b=this;a(b.element).find(".dtpicker-compButton").removeClass("dtpicker-compButtonDisable").addClass("dtpicker-compButtonEnable");var c;if(null!==b.dataObject.dMaxValue&&(b.dataObject.bTimeMode?((b.dataObject.iCurrentHour+1>b.dataObject.dMaxValue.getHours()||b.dataObject.iCurrentHour+1===b.dataObject.dMaxValue.getHours()&&b.dataObject.iCurrentMinutes>b.dataObject.dMaxValue.getMinutes())&&a(b.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),b.dataObject.iCurrentHour>=b.dataObject.dMaxValue.getHours()&&b.dataObject.iCurrentMinutes+1>b.dataObject.dMaxValue.getMinutes()&&a(b.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):(c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay+1,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".day .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth+1,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".month .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear+1,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".year .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour+1,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes+1,b.dataObject.iCurrentSeconds,0),c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds+1,0),c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".seconds .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),null!==b.dataObject.dMinValue&&(b.dataObject.bTimeMode?((b.dataObject.iCurrentHour-1<b.dataObject.dMinValue.getHours()||b.dataObject.iCurrentHour-1===b.dataObject.dMinValue.getHours()&&b.dataObject.iCurrentMinutes<b.dataObject.dMinValue.getMinutes())&&a(b.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),b.dataObject.iCurrentHour<=b.dataObject.dMinValue.getHours()&&b.dataObject.iCurrentMinutes-1<b.dataObject.dMinValue.getMinutes()&&a(b.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):(c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay-1,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".day .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth-1,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".month .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear-1,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".year .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour-1,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes-1,b.dataObject.iCurrentSeconds,0),c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,b.dataObject.iCurrentHour,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds-1,0),c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".seconds .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),b.dataObject.bIs12Hour){var d,e;(null!==b.dataObject.dMaxValue||null!==b.dataObject.dMinValue)&&(d=b.dataObject.iCurrentHour,b._compare(b.dataObject.sCurrentMeridiem,"AM")?d+=12:b._compare(b.dataObject.sCurrentMeridiem,"PM")&&(d-=12),c=new Date(b.dataObject.iCurrentYear,b.dataObject.iCurrentMonth,b.dataObject.iCurrentDay,d,b.dataObject.iCurrentMinutes,b.dataObject.iCurrentSeconds,0),null!==b.dataObject.dMaxValue&&(b.dataObject.bTimeMode?(e=b.dataObject.iCurrentMinutes,(d>b.dataObject.dMaxValue.getHours()||d===b.dataObject.dMaxValue.getHours()&&e>b.dataObject.dMaxValue.getMinutes())&&a(b.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):c.getTime()>b.dataObject.dMaxValue.getTime()&&a(b.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")),null!==b.dataObject.dMinValue&&(b.dataObject.bTimeMode?(e=b.dataObject.iCurrentMinutes,(d<b.dataObject.dMinValue.getHours()||d===b.dataObject.dMinValue.getHours()&&e<b.dataObject.dMinValue.getMinutes())&&a(b.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):c.getTime()<b.dataObject.dMinValue.getTime()&&a(b.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")))}},_compare:function(a,b){var c=void 0!==a&&null!==a,d=void 0!==b&&null!==b;return c&&d&&a.toLowerCase()===b.toLowerCase()?!0:!1},_isValid:function(a){return void 0!==a&&null!==a&&""!==a},setIsPopup:function(b){var c=this;if(c.settings.isPopup=b,"none"!==a(c.element).css("display")&&c._hidePicker(0),c.settings.isPopup)a(c.element).addClass("dtpicker-mobile"),a(c.element).css({position:"fixed",top:0,left:0,width:"100%",height:"100%"});else if(a(c.element).removeClass("dtpicker-mobile"),null!==c.dataObject.oInputElement){var d=a(c.dataObject.oInputElement).offset().top+a(c.dataObject.oInputElement).outerHeight(),e=a(c.dataObject.oInputElement).offset().left,f=a(c.dataObject.oInputElement).outerWidth();a(c.element).css({position:"absolute",top:d,left:e,width:f,height:"auto"})}},_compareDates:function(a,b){a=new Date(a.getDate(),a.getMonth(),a.getFullYear(),0,0,0,0),a=new Date(a.getDate(),a.getMonth(),a.getFullYear(),0,0,0,0);var c=(a.getTime()-b.getTime())/864e5;return 0===c?c:c/Math.abs(c)},_compareTime:function(a,b){var c=0;return a.getHours()===b.getHours()&&a.getMinutes()===b.getMinutes()?c=1:a.getHours()<b.getHours()?c=2:a.getHours()>b.getHours()?c=3:a.getHours()===b.getHours()&&(a.getMinutes()<b.getMinutes()?c=2:a.getMinutes()>b.getMinutes()&&(c=3)),c},_compareDateTime:function(a,b){var c=(a.getTime()-b.getTime())/6e4;return 0===c?c:c/Math.abs(c)},_determineMeridiemFromHourAndMinutes:function(a,b){return a>12?"PM":12===a&&b>=0?"PM":"AM"}}});